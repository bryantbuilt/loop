{% macro render_field(field) %}
    <div class="field is-horizontal">
        {% if field.errors %}
            {% for error in field.errors %}
                <div class="notification error">{{ error }}</div>
            {% endfor %}
        {% endif %}
        {% if field.type == 'SelectField' %}
            <div class="field-label">
                <label for="{{ field.id }}" class='label'>{{field.label.text}}:</label>
            </div>
            <div class="field-body">
                <div class="field">
                    <div class='control'>
                        {{ field(class='select is-small is-fullwidth') }}
                    </div> 
                </div>
            </div>
        {% elif field.type == 'DateField' %}
            <div class="field-label">
                <label for="{{ field.id }}" class='label'>{{field.label.text}}:</label>
            </div>
            <div class="field-body">
                <div class="field">
                    <div class='control'>
                        {{ field(type='date') }}
                    </div>
                </div>
            </div>
        {% else %}
            <div class="field-body">
                <div class="field">
                    <div class='control'>
                        {{ field(placeholder=field.label.text, class='input') }}
                    </div>
                </div>
            </div>
        {% endif %}
    </div>
{% endmacro %}

{% macro render_edit_field(field,record) %}
    <div class="field is-horizontal">
        {% for key, value in record.items() %}
            {% if key == field.id %}
                {% if field.errors %}
                    {% for error in field.errors %}
                        <div class="notification error">{{ error }}</div>
                    {% endfor %}
                {% endif %}
                {% if field.type == 'SelectField' %}
                    <div class="field-label">
                        <label for="{{ field.id }}" class='label'>{{field.label.text}}:</label>
                    </div>
                    <div class="field-body">
                        <div class="field">
                            <div class="control">
                                {{ field(class='select is-small is-fullwidth', value=value)}}
                            </div>
                        </div>
                    </div>
                {% elif field.type == 'DateField' %}
                    <div class="field-label">
                        <label for="{{ field.id }}" class='label'>{{field.label.text}}:</label>
                    </div>
                    <div class="field-body">
                        <div class="field">
                            <div class="control">
                                {{ field(type='date',class='input',value=value) }}
                            </div>
                        </div>
                    </div>
                {% else %}
                    <div class="field-label">
                        <label for="{{ field.id }}" class='label'>{{field.label.text}}:</label>
                    </div>
                    <div class="field-body">
                        <div class="field">
                            <div class="control">
                                {{ field(class='input', placeholder=field.label.text, value=value) }}
                            </div>
                        </div>
                    </div>
                {% endif %}
            {% endif %}
        {% endfor %}
    </div>
{% endmacro %}

{% macro render_account(account) %}
    <tr>
        <th><a href='{{account.id}}'>{{account.name}}</a></th>
        <th>{{account.owner.fullname}}</th>
        <th>{{account.account_type}}</th>
        <th>{{account.street}}</th>
        <th>{{account.city}}</th>
        <th>{{account.state}}</th>
        <th>{{account.country}}</th>
        <th>{{account.website}}</th>
        <th>{{account.mrr}}</th>
        <th>{{account.arr}}</th>
        <th>{{account.created_by.fullname}}</th>
    </tr>
{% endmacro %}

{% macro render_contact(contact) %}
    <tr>
        <th><a href='{{contact.account.id}}'>{{contact.account.name}}</a></th>
        <th>{{contact.owner.fullname}}</th>
        <th>{{contact.first_name}}</th>
        <th>{{contact.last_name}}</th>
        <th>{{contact.phone}}</th>
        <th>{{contact.email}}</th>
        <th>{{contact.title}}</th>
        <th>{{contact.department}}</th>
        <th>{{contact.street}}</th>
        <th>{{contact.city}}</th>
        <th>{{contact.state}}</th>
        <th>{{contact.country}}</th>
        <th>{{contact.created_by.fullname}}</th>
    </tr>
{% endmacro %}

{% macro render_opportunity(opportunity) %}
    <tr>
        <th>{{opportunity.account.name}}</th>
        <th>{{opportunity.owner.name}}</th>
        <th>{{opportunity.name}}</th>
        <th>{{opportunity.opportunity_type}}</th>
        <th>{{opportunity.primary_contact.fullname}}</th>
        <th>{{opportunity.mrr}}</th>
        <th>{{opportunity.arr}}</th>
        <th>{{opportunity.stage}}</th>
        <th>{{opportunity.created_by}}</th>
    </tr>
{% endmacro %}